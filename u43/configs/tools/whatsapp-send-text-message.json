{
  "id": "whatsapp_send_text_message",
  "name": "Send WhatsApp Text Message",
  "description": "Sends a text message via WhatsApp Cloud API",
  "version": "1.0.0",
  "category": "whatsapp",
  "icon": "whatsapp",
  "integration": "whatsapp",
  "inputs": {
    "phone_number_variable": {
      "type": "string",
      "required": false,
      "label": "Phone Number",
      "description": "Select a variable from previous node containing phone number(s). Use format {{node_id.field}} or {{trigger_data.field}}. Can be a single number or array of numbers."
    },
    "phone_numbers": {
      "type": "array",
      "required": false,
      "label": "Phone Numbers (Alternative)",
      "description": "Array of phone numbers to send to (with country code, e.g., ['8801345318757', '+1234567890']). This takes precedence over the variable input.",
      "default": []
    },
    "message": {
      "type": "string",
      "required": true,
      "label": "Message Text",
      "description": "Text message to send via WhatsApp"
    }
  },
  "outputs": {
    "message_id": {
      "type": "string",
      "label": "Message ID"
    },
    "status": {
      "type": "string",
      "label": "Status"
    },
    "sent_at": {
      "type": "integer",
      "label": "Sent At"
    },
    "sent_to": {
      "type": "array",
      "label": "Sent To"
    }
  },
  "handler": "U43\\Tools\\WhatsApp\\Send_Text_Message"
}
